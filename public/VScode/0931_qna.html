<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ì˜¨í†µëŒ€ì „ ë¬¸ì˜ Â· Q&A</title>
  <style>
    :root{
      --brand:#FF8215;
      --bg:#f7f8fc;
      --surface:#ffffff;
      --ink:#1f2430;
      --muted:#6b7280;
      --line:#e5e7eb;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family:"Pretendard","Noto Sans KR",system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:var(--bg);
      color:var(--ink);
      display:flex;
      flex-direction:column;
      min-height:100vh;
    }
    header{
      background:linear-gradient(135deg, rgba(255,130,21,0.92), rgba(255,195,125,0.9));
      padding:56px 20px 72px;
      text-align:center;
      color:#fff;
    }
    header h1{ margin:0; font-size:34px; }
    header p{ margin:16px auto 0; max-width:560px; line-height:1.7; font-size:16px; }

    main{ flex:1; margin-top:-48px; padding:0 20px 80px; }
    .container{ max-width:980px; margin:0 auto; display:grid; gap:32px; }

    .board{
      background:var(--surface);
      border-radius:24px;
      padding:32px;
      box-shadow:0 16px 40px rgba(31,36,48,.1);
      border:1px solid rgba(255,130,21,.1);
      display:grid;
      gap:20px;
    }
    .board h2{ margin:0; font-size:24px; display:flex; align-items:center; gap:12px; }
    .board h2 span{ display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:12px; background:rgba(255,130,21,.18); color:var(--brand); font-weight:700; }
    .board p{ margin:0; color:var(--muted); }

    .post-list{ list-style:none; margin:0; padding:0; border-top:1px solid var(--line); }
    .post-item{ border-bottom:1px solid var(--line); padding:16px 0; display:grid; gap:6px; cursor:pointer; transition:background .2s ease; }
    .post-item:hover{ background:rgba(255,130,21,.05); }
    .post-meta{ display:flex; gap:12px; color:var(--muted); font-size:13px; }
    .post-title{ font-size:16px; font-weight:600; display:flex; align-items:center; gap:8px; }
    .post-content{ display:none; padding:12px 14px; background:rgba(255,130,21,.05); border-radius:12px; line-height:1.6; white-space:pre-line; }
    .post-item.open .post-content{ display:block; }
    .lock{ color:#ef4444; font-size:18px; }

    form{ display:grid; gap:16px; }
    .field{ display:grid; gap:8px; }
    label{ font-weight:600; }
    input[type="text"], input[type="password"], textarea{
      width:100%;
      border:1px solid var(--line);
      border-radius:10px;
      padding:10px 12px;
      font-size:15px;
      font-family:inherit;
      resize:vertical;
      min-height:44px;
    }
    textarea{ min-height:120px; }
    .inline{ display:flex; gap:16px; align-items:center; flex-wrap:wrap; }
    .inline label{ font-weight:500; }
    .secret-toggle{ display:flex; align-items:center; gap:8px; font-size:14px; color:var(--muted); }
    button[type="submit"]{
      justify-self:flex-end;
      background:var(--brand);
      color:#fff;
      border:none;
      border-radius:999px;
      padding:12px 32px;
      font-size:15px;
      cursor:pointer;
      box-shadow:0 12px 30px rgba(255,130,21,.25);
      transition:transform .12s ease, box-shadow .12s ease, background .12s ease;
    }
    button[type="submit"]:hover{ background:#d96500; box-shadow:0 14px 34px rgba(217,101,0,.28); }
    button[type="submit"]:active{ transform:translateY(1px); }

    .notice{ background:rgba(255,130,21,.12); padding:14px 16px; border-radius:12px; font-size:14px; }

    footer{ text-align:center; padding:32px 16px 40px; font-size:13px; color:var(--muted); }

    @media (max-width: 720px){
      header{ padding:48px 16px 60px; }
      header h1{ font-size:28px; }
      main{ padding:0 16px 64px; }
      .board{ padding:24px; border-radius:20px; }
      button[type="submit"]{ justify-self:stretch; }
    }
  </style>
</head>
<body>
  <header>
    <h1>ì˜¨í†µëŒ€ì „ ë¬¸ì˜ Â· Q&A</h1>
    <p>ê¶ê¸ˆí•œ ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”. ë‹µë³€ì´ í•„ìš”í•œ ì§ˆë¬¸ì€ ë‹´ë‹¹ìê°€ ë¹ ë¥´ê²Œ í™•ì¸í•˜ê³  íšŒì‹ í•©ë‹ˆë‹¤. ë¹„ë°€ê¸€ ì˜µì…˜ì„ ì‚¬ìš©í•˜ë©´ ì‘ì„±ìì™€ ê´€ë¦¬ìë§Œ ë‚´ìš©ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  </header>
  <main>
    <div class="container">
      <section class="board" aria-label="ë¬¸ì˜ ë‚´ì—­">
        <h2><span>Q</span>ìµœê·¼ ë¬¸ì˜</h2>
        <p>ê°€ë§¹ì  ê²€ìƒ‰, ì¹´ë“œ ì‹ ì²­, ì•± ì‚¬ìš©ë²• ë“± ë‹¤ì–‘í•œ ì§ˆë¬¸ì„ ë‚¨ê²¨ì£¼ì„¸ìš”.</p>
        <div class="notice">â€» ë¹„ë°€ê¸€ì€ ì‘ì„± ì‹œ ì„¤ì •í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì•¼ ì—´ëŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
        <ul class="post-list" id="postList"></ul>
      </section>
      <section class="board" aria-label="ë¬¸ì˜ ì‘ì„±">
        <h2><span>A</span>ë¬¸ì˜ ë“±ë¡</h2>
        <form id="questionForm">
          <div class="field">
            <label for="writer">ì‘ì„±ì</label>
            <input id="writer" name="writer" type="text" placeholder="ì´ë¦„ ë˜ëŠ” ë‹‰ë„¤ì„" required>
          </div>
          <div class="field">
            <label for="title">ì œëª©</label>
            <input id="title" name="title" type="text" placeholder="ë¬¸ì˜ ì œëª©" required>
          </div>
          <div class="field">
            <label for="content">ë‚´ìš©</label>
            <textarea id="content" name="content" placeholder="ë¬¸ì˜ ë‚´ìš©ì„ ìƒì„¸íˆ ì ì–´ì£¼ì„¸ìš”." required></textarea>
          </div>
          <div class="inline">
            <label class="secret-toggle"><input id="isSecret" type="checkbox"> ë¹„ë°€ê¸€ë¡œ ë“±ë¡</label>
            <input id="password" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸ (ë¹„ë°€ê¸€ì¼ ë•Œ í•„ìˆ˜)" minlength="4" maxlength="12">
          </div>
          <button type="submit">ë¬¸ì˜ ë“±ë¡</button>
        </form>
      </section>
    </div>
  </main>
  <footer>Â© 2025 Ontong Daejeon. ë¬¸ì˜ ê²Œì‹œíŒ.</footer>
  <script>
    var STORAGE_KEY = 'ontong_qna_v1';
    var postListEl = document.getElementById('postList');
    var form = document.getElementById('questionForm');
    var passwordEl = document.getElementById('password');
    var secretEl = document.getElementById('isSecret');

    function loadPosts(){
      try{ return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]'); }
      catch(e){ return []; }
    }
    function savePosts(posts){
      localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
    }
    function seedPosts(){
      var sample = [
        { id: Date.now() - 300000, title:'ì˜¨í†µëŒ€ì „ ì‚¬ìš© ê°€ëŠ¥í•œ ë§¤ì¥ í™•ì¸ ë°©ë²•', writer:'í–‰ë³µí•œëŒ€ì „', content:'ì§€ë„ì—ì„œ ì´ˆë¡ ë¶ˆ ì•„ì´ì½˜ì´ ëœ¨ëŠ” ê³³ì€ ì˜¨í†µëŒ€ì „ì´ ê°€ëŠ¥í•œ ë§¤ì¥ì…ë‹ˆë‹¤. ì¶”ê°€ë¡œ í™•ì¸í•  íŒì´ ìˆì„ê¹Œìš”?', secret:false, createdAt: Date.now() - 300000 },
        { id: Date.now() - 240000, title:'ì•±ì—ì„œ ì¹´ë“œ ì”ì•¡ ì¡°íšŒê°€ ë˜ì§€ ì•Šì•„ìš”', writer:'ì¹´ë“œì´ˆë³´', content:'ì•ˆë…•í•˜ì„¸ìš”. ìµœê·¼ ì¹´ë“œ ì”ì•¡ì´ 0ì›ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤. ë‹¤ì‹œ ë¡œê·¸ì¸í•˜ë©´ ì •ìƒì¼ê¹Œìš”?', secret:true, password:'1234', createdAt: Date.now() - 240000 },
        { id: Date.now() - 180000, title:'ê°€ë§¹ì  ìŠ¤í‹°ì»¤ ë°°ë¶€ ì¼ì • ë¬¸ì˜', writer:'ë™êµ¬ìƒì¸íšŒ', content:'ìƒˆë¡œ ê°€ë§¹í•œ ë§¤ì¥ì…ë‹ˆë‹¤. ì˜¤í”„ë¼ì¸ ìŠ¤í‹°ì»¤ëŠ” ì–¸ì œ ë°›ì•„ë³¼ ìˆ˜ ìˆë‚˜ìš”?', secret:false, createdAt: Date.now() - 180000 }
      ];
      savePosts(sample);
      return sample;
    }

    function formatDate(ts){
      var d = new Date(ts);
      return d.getFullYear() + '.' + String(d.getMonth()+1).padStart(2,'0') + '.' + String(d.getDate()).padStart(2,'0');
    }

    function renderPosts(){
      var posts = loadPosts();
      if(!posts.length){ posts = seedPosts(); }
      postListEl.innerHTML = '';
      posts.sort(function(a,b){ return b.createdAt - a.createdAt; });
      posts.forEach(function(post){
        var li = document.createElement('li');
        li.className = 'post-item';
        li.dataset.id = post.id;
        var title = document.createElement('div');
        title.className = 'post-title';
        if(post.secret){
          var lock = document.createElement('span');
          lock.className = 'lock';
          lock.textContent = 'ğŸ”’';
          title.appendChild(lock);
        }
        title.appendChild(document.createTextNode(post.title));
        var meta = document.createElement('div');
        meta.className = 'post-meta';
        meta.textContent = post.writer + ' Â· ' + formatDate(post.createdAt);
        var content = document.createElement('div');
        content.className = 'post-content';
        content.textContent = post.secret ? 'ë¹„ë°€ê¸€ì…ë‹ˆë‹¤. ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.' : post.content;
        li.appendChild(title);
        li.appendChild(meta);
        li.appendChild(content);
        li.addEventListener('click', function(){
          togglePost(post, content, li);
        });
        postListEl.appendChild(li);
      });
    }

    function togglePost(post, contentEl, li){
      if(post.secret){
        var input = prompt('ë¹„ë°€ê¸€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        if(input === null) return;
        if(input !== post.password){
          alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
          return;
        }
        contentEl.textContent = post.content;
      }
      li.classList.toggle('open');
    }

    form.addEventListener('submit', function(ev){
      ev.preventDefault();
      var data = new FormData(form);
      var writer = data.get('writer').trim();
      var title = data.get('title').trim();
      var content = data.get('content').trim();
      var secret = secretEl.checked;
      var password = passwordEl.value.trim();
      if(!writer || !title || !content){
        alert('ì‘ì„±ì, ì œëª©, ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }
      if(secret && password.length < 4){
        alert('ë¹„ë°€ê¸€ì€ 4ì ì´ìƒ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.');
        passwordEl.focus();
        return;
      }
      var posts = loadPosts();
      posts.push({
        id: Date.now(),
        writer: writer,
        title: title,
        content: content,
        secret: secret,
        password: secret ? password : '',
        createdAt: Date.now()
      });
      savePosts(posts);
      form.reset();
      secretEl.checked = false;
      alert('ë¬¸ì˜ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ë¹ ë¥´ê²Œ ë‹µë³€ë“œë¦´ê²Œìš”.');
      renderPosts();
    });

    secretEl.addEventListener('change', function(){
      if(this.checked){
        passwordEl.required = true;
        passwordEl.placeholder = 'ë¹„ë°€ë²ˆí˜¸ (4~12ì)';
      }else{
        passwordEl.required = false;
        passwordEl.value = '';
        passwordEl.placeholder = 'ë¹„ë°€ë²ˆí˜¸ (ë¹„ë°€ê¸€ì¼ ë•Œ í•„ìˆ˜)';
      }
    });

    renderPosts();
  </script>
</body>
</html>